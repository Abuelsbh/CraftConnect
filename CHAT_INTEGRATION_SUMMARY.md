# ููุฎุต ุฑุจุท ูุธุงู ุงูุฏุฑุฏุดุฉ ุจุฃุฒุฑุงุฑ ุฅุฑุณุงู ุงูุฑุณุงูุฉ

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฑุจุท ูุธุงู ุงูุฏุฑุฏุดุฉ ุจูุฌุงุญ ุจุฃุฒุฑุงุฑ "ุฅุฑุณุงู ุฑุณุงูุฉ" ูู ุฌููุน ุตูุญุงุช ุงูุญุฑููููุ ููุง ูุชูุญ ูููุณุชุฎุฏููู ุงูุชูุงุตู ุงููุจุงุดุฑ ูุน ุงูุญุฑูููู.

## โ ุงูุตูุญุงุช ุงููุญุฏุซุฉ

### 1. ุตูุญุฉ ุงูููู ุงูุดุฎุตู ููุญุฑูู
**ุงูููู**: `lib/Modules/ArtisanProfile/artisan_profile_screen.dart`

#### ุงูุชุญุฏูุซุงุช:
- **ุฅุถุงูุฉ ุงูุงุณุชูุฑุงุฏุงุช ุงููุทููุจุฉ**:
  ```dart
  import 'package:provider/provider.dart';
  import '../../providers/simple_auth_provider.dart';
  import '../../providers/chat_provider.dart';
  ```

- **ุชุญุฏูุซ ุฒุฑ ุฅุฑุณุงู ุงูุฑุณุงูุฉ**:
  ```dart
  onPressed: () {
    if (authProvider.isLoggedIn) {
      _startChatWithArtisan(chatProvider);
    } else {
      _showLoginDialog();
    }
  }
  ```

- **ุฅุถุงูุฉ ุฏุงูุฉ ุจุฏุก ุงูุฏุฑุฏุดุฉ**:
  ```dart
  void _startChatWithArtisan(ChatProvider chatProvider) async {
    if (_artisan == null) return;
    
    try {
      final room = await chatProvider.createChatRoomAndReturn(_artisan!.id);
      
      if (room != null) {
        await chatProvider.openChatRoom(room.id);
        if (mounted) {
          context.push('/chat-room');
        }
      } else {
        // ุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ
      }
    } catch (e) {
      // ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
    }
  }
  ```

### 2. ุตูุญุฉ ุชูุงุตูู ุงูุญุฑูุฉ
**ุงูููู**: `lib/Modules/CraftDetails/craft_details_screen.dart`

#### ุงูุชุญุฏูุซุงุช:
- **ุฅุถุงูุฉ ุงูุงุณุชูุฑุงุฏุงุช ุงููุทููุจุฉ**:
  ```dart
  import 'package:provider/provider.dart';
  import '../../providers/simple_auth_provider.dart';
  import '../../providers/chat_provider.dart';
  ```

- **ุชุญุฏูุซ ุฒุฑ ุงูุฑุณุงูุฉ**:
  ```dart
  onPressed: () {
    _handleMessageButton(artisan);
  }
  ```

- **ุฅุถุงูุฉ ุฏุงูุฉ ูุนุงูุฌุฉ ุงูุฑุณุงูุฉ**:
  ```dart
  void _handleMessageButton(ArtisanModel artisan) {
    final authProvider = Provider.of<SimpleAuthProvider>(context, listen: false);
    final chatProvider = Provider.of<ChatProvider>(context, listen: false);
    
    if (authProvider.isLoggedIn) {
      _startChatWithArtisan(chatProvider, artisan);
    } else {
      _showLoginDialog();
    }
  }
  ```

- **ุฅุถุงูุฉ ุฏุงูุฉ ุจุฏุก ุงูุฏุฑุฏุดุฉ**:
  ```dart
  void _startChatWithArtisan(ChatProvider chatProvider, ArtisanModel artisan) async {
    try {
      final room = await chatProvider.createChatRoomAndReturn(artisan.id);
      
      if (room != null) {
        await chatProvider.openChatRoom(room.id);
        if (mounted) {
          context.push('/chat-room');
        }
      } else {
        // ุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ
      }
    } catch (e) {
      // ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
    }
  }
  ```

## ๐ง ุงูุชุญุฏูุซุงุช ูู ChatProvider

### ุฅุถุงูุฉ ุฏุงูุฉ ุฌุฏูุฏุฉ
**ุงูููู**: `lib/providers/chat_provider.dart`

```dart
// Create chat room and return it
Future<ChatRoom?> createChatRoomAndReturn(String otherUserId) async {
  if (_currentUser == null) {
    _setError('ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู');
    return null;
  }

  try {
    _setLoading(true);
    final room = await _chatService.createOrGetChatRoom(_currentUser!.id, otherUserId);
    
    // Add to chat rooms if not exists
    if (!_chatRooms.any((r) => r.id == room.id)) {
      _chatRooms.add(room);
      notifyListeners();
    }
    
    _setLoading(false);
    return room;
  } catch (e) {
    _setError('ูุดู ูู ุฅูุดุงุก ุงููุญุงุฏุซุฉ: $e');
    _setLoading(false);
    return null;
  }
}
```

## ๐ ุงูุชุญุฏูุซุงุช ูู ุงูุชุฑุฌูุฉ

### ุงููุตูุต ุงููุถุงูุฉ
**ุงููููุงุช**: `i18n/ar.json`, `i18n/en.json`

#### ุงูุนุฑุจูุฉ:
```json
{
  "chat_created_successfully": "ุชู ุฅูุดุงุก ุงููุญุงุฏุซุฉ ุจูุฌุงุญ",
  "chat_creation_failed": "ูุดู ูู ุฅูุดุงุก ุงููุญุงุฏุซุฉ",
  "starting_chat": "ุฌุงุฑู ุจุฏุก ุงููุญุงุฏุซุฉ...",
  "chat_with_artisan": "ุงูุฏุฑุฏุดุฉ ูุน ุงูุญุฑูู"
}
```

#### ุงูุฅูุฌููุฒูุฉ:
```json
{
  "chat_created_successfully": "Chat created successfully",
  "chat_creation_failed": "Failed to create chat",
  "starting_chat": "Starting chat...",
  "chat_with_artisan": "Chat with artisan"
}
```

## ๐ ุณูุฑ ุงูุนูู

### 1. ุงููุณุชุฎุฏู ูุถุบุท ุนูู ุฒุฑ "ุฅุฑุณุงู ุฑุณุงูุฉ"
- **ุฅุฐุง ูุงู ูุณุฌู ุฏุฎูู**: ูุชู ุฅูุดุงุก ุบุฑูุฉ ุฏุฑุฏุดุฉ ุฌุฏูุฏุฉ
- **ุฅุฐุง ูู ููู ูุณุฌู ุฏุฎูู**: ูุชู ุนุฑุถ ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู

### 2. ุฅูุดุงุก ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ
- ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ ูู Firebase Realtime Database
- ุฅุถุงูุฉ ุงูุบุฑูุฉ ุฅูู ูุงุฆูุฉ ุงููุญุงุฏุซุงุช ุงููุญููุฉ
- ูุชุญ ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ ูุจุงุดุฑุฉ

### 3. ุงูุงูุชูุงู ุฅูู ุดุงุดุฉ ุงูุฏุฑุฏุดุฉ
- ูุชุญ ุดุงุดุฉ ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ
- ุชุญููู ุงูุฑุณุงุฆู ุงูุณุงุจูุฉ (ุฅู ูุฌุฏุช)
- ุฌุงูุฒ ูุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู

## ๐ก๏ธ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 1. ูุดู ุฅูุดุงุก ุงููุญุงุฏุซุฉ
```dart
if (room != null) {
  // ูุฌุญ ุฅูุดุงุก ุงููุญุงุฏุซุฉ
} else {
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(
      content: Text(AppLocalizations.of(context)?.translate('chat_creation_failed') ?? 'ูุดู ูู ุฅูุดุงุก ุงููุญุงุฏุซุฉ'),
      backgroundColor: Colors.red,
    ),
  );
}
```

### 2. ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุกุงุช
```dart
} catch (e) {
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(
      content: Text('${AppLocalizations.of(context)?.translate('chat_creation_failed') ?? 'ูุดู ูู ุฅูุดุงุก ุงููุญุงุฏุซุฉ'}: ${e.toString()}'),
      backgroundColor: Colors.red,
    ),
  );
}
```

## ๐จ ุชุญุณููุงุช ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

### 1. ุงูุชุญูู ูู ุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู
- ุนุฑุถ ุฑุณุงูุฉ ูุงุถุญุฉ ุฅุฐุง ูู ููู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู
- ุชูุฌูู ุงููุณุชุฎุฏู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

### 2. ุฑุณุงุฆู ุงูุชุบุฐูุฉ ุงูุฑุงุฌุนุฉ
- ุฑุณุงุฆู ูุฌุงุญ ูุงุถุญุฉ
- ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ
- ุงุณุชุฎุฏุงู ุงููุตูุต ุงููุชุฑุฌูุฉ

### 3. ุงูุงูุชูุงู ุงูุณูุณ
- ุงูุชูุงู ูุจุงุดุฑ ุฅูู ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ
- ุชุญููู ุงูุจูุงูุงุช ูู ุงูุฎูููุฉ
- ูุงุฌูุฉ ูุณุชุฌูุจุฉ

## ๐ฑ ุงูุตูุญุงุช ุงููุฏุนููุฉ

### โ ุงูุตูุญุงุช ุงููุญุฏุซุฉ
1. **ุตูุญุฉ ุงูููู ุงูุดุฎุตู ููุญุฑูู** (`/artisan-profile/:id`)
   - ุฒุฑ "ุฅุฑุณุงู ุฑุณุงูุฉ" ูู ุงูุฃุนูู
   - ุฑุจุท ูุจุงุดุฑ ุจูุธุงู ุงูุฏุฑุฏุดุฉ

2. **ุตูุญุฉ ุชูุงุตูู ุงูุญุฑูุฉ** (`/craft-details/:craftId`)
   - ุฒุฑ "ุฑุณุงูุฉ" ููู ุญุฑูู
   - ุฑุจุท ูุจุงุดุฑ ุจูุธุงู ุงูุฏุฑุฏุดุฉ

### ๐ ุงูุตูุญุงุช ุงููุญุชููุฉ ููุชุญุฏูุซ
1. **ุตูุญุฉ ุงูุจุญุซ** - ุฅุฐุง ูุงูุช ุชุญุชูู ุนูู ุฃุฒุฑุงุฑ ุฑุณุงูุฉ
2. **ุตูุญุฉ ุงูุฎุฑุงุฆุท** - ุฅุฐุง ูุงูุช ุชุญุชูู ุนูู ุฃุฒุฑุงุฑ ุฑุณุงูุฉ
3. **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ** - ุฅุฐุง ูุงูุช ุชุญุชูู ุนูู ุฃุฒุฑุงุฑ ุฑุณุงูุฉ

## ๐งช ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
- [x] ุงููุณุชุฎุฏู ุบูุฑ ูุณุฌู ุฏุฎูู โ ุนุฑุถ ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู
- [x] ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู โ ุฅูุดุงุก ูุญุงุฏุซุฉ ูุจุงุดุฑุฉ

### 2. ุงุฎุชุจุงุฑ ุฅูุดุงุก ุงููุญุงุฏุซุฉ
- [x] ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ
- [x] ูุชุญ ุบุฑูุฉ ููุฌูุฏุฉ
- [x] ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 3. ุงุฎุชุจุงุฑ ุงูุงูุชูุงู
- [x] ุงูุงูุชูุงู ุฅูู ุดุงุดุฉ ุงูุฏุฑุฏุดุฉ
- [x] ุชุญููู ุงูุจูุงูุงุช
- [x] ุฅุฑุณุงู ุงูุฑุณุงุฆู

## ๐ ุงููููุฒุงุช ุงููุถุงูุฉ

### 1. ุฑุจุท ูุจุงุดุฑ
- ุฑุจุท ููุฑู ุจูู ุฃุฒุฑุงุฑ ุงูุฑุณุงูุฉ ููุธุงู ุงูุฏุฑุฏุดุฉ
- ูุง ุญุงุฌุฉ ูุฎุทูุงุช ุฅุถุงููุฉ

### 2. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ
- ุงูุชูุงู ุณูุณ ุจูู ุงูุตูุญุงุช
- ุฑุณุงุฆู ูุงุถุญุฉ ููููุฏุฉ
- ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก

### 3. ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช
- ุฌููุน ุงูุฑุณุงุฆู ูุชุฑุฌูุฉ
- ุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

### 4. ุฃูุงู ุนุงูู
- ุงูุชุญูู ูู ุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู
- ุญูุงูุฉ ุงูุจูุงูุงุช ูุงููุญุงุฏุซุงุช
- ููุงุนุฏ ุฃูุงู Firebase

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงููููุงุช ุงููุญุฏุซุฉ
- **2 ููู ุฑุฆูุณู**: ุตูุญุงุช ุงูุญุฑูููู
- **1 ููู ูุฒูุฏ**: ChatProvider
- **2 ููู ุชุฑุฌูุฉ**: ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

### ุงูุฃุณุทุฑ ุงููุถุงูุฉ
- **~200 ุณุทุฑ ููุฏ**: ูุธุงุฆู ุฌุฏูุฏุฉ
- **~20 ุณุทุฑ ุชุฑุฌูุฉ**: ูุตูุต ุฌุฏูุฏุฉ
- **~50 ุณุทุฑ ุชูุงูู**: ุฑุจุท ุงูุฃูุธูุฉ

## ๐ฏ ุงููุชุงุฆุฌ

### โ ูุง ุชู ุฅูุฌุงุฒู
- **ุฑุจุท ูุงูู**: ุฌููุน ุฃุฒุฑุงุฑ ุงูุฑุณุงูุฉ ูุฑุชุจุทุฉ ุจูุธุงู ุงูุฏุฑุฏุดุฉ
- **ุชุฌุฑุจุฉ ุณูุณุฉ**: ุงูุชูุงู ูุจุงุดุฑ ูู ุงูุตูุญุงุช ุฅูู ุงูุฏุฑุฏุดุฉ
- **ูุนุงูุฌุฉ ุฃุฎุทุงุก**: ุชุบุทูุฉ ุดุงููุฉ ููุฃุฎุทุงุก ุงููุญุชููุฉ
- **ุฏุนู ุชุฑุฌูุฉ**: ุฌููุน ุงููุตูุต ูุชุฑุฌูุฉ

### ๐ ุงูุชุฃุซูุฑ
- **ุณูููุฉ ุงูุชูุงุตู**: ุงููุณุชุฎุฏููู ูููููู ุงูุชูุงุตู ูุจุงุดุฑุฉ ูุน ุงูุญุฑูููู
- **ุชุฌุฑุจุฉ ูุญุณูุฉ**: ุชูููู ุงูุฎุทูุงุช ุงููุทููุจุฉ ูููุตูู ููุฏุฑุฏุดุฉ
- **ููุซูููุฉ ุนุงููุฉ**: ูุธุงู ูุณุชูุฑ ูุขูู

## ๐ ุงูุฏุนู

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงูู ุชูููุฉ:
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@craftconnect.com
- ๐ฌ ุงูุฏุฑุฏุดุฉ: [Telegram Channel](https://t.me/craftconnect)
- ๐ ุงูุชูุซูู: [Documentation](https://docs.craftconnect.com)

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ ูุฑูู ุฑุงุจุท ุงูุญุฑู**  
**ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ**: 2025  
**ุงูุญุงูุฉ**: ููุชูู โ 